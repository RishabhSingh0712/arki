(function(){document.addEventListener("DOMContentLoaded",function(){const i=document.querySelector("#aos-filters-dialog"),a=document.querySelector("#open-aos-filters"),r=document.querySelector("#aos-filters__closer"),c=document.querySelector("#aos-name-filter"),d=document.querySelector("#aos-school-filter"),v=document.querySelector("#aos-filters__resetter"),L=document.querySelector("#aos-filters__viewer"),t=document.querySelector(".aos-listing-row"),b=document.querySelector(".end-of-results-box"),u=document.querySelector(".start-of-results-box"),l=t.querySelectorAll("[data-aos-card]");a.addEventListener("click",()=>{i.showModal(),p()}),r.addEventListener("click",A),i.addEventListener("click",function(e){e.target.nodeName==="DIALOG"&&r.click()}),c.addEventListener("input",g),d.addEventListener("input",g),v.addEventListener("click",e=>{e.preventDefault(),c.value="",d.value="either",l.forEach(o=>{o.removeAttribute("data-school-filter"),o.removeAttribute("data-name-filter")}),m(),h()}),L.addEventListener("click",e=>{e.preventDefault(),r.click()}),t.classList.add("scrolledLeft");let f=0,n=!1;t.addEventListener("scroll",()=>{f=t.scrollLeft,n||(window.requestAnimationFrame(()=>{y(f),n=!1}),n=!0)});function p(){let e=i.getBoundingClientRect(),o=a.getBoundingClientRect(),s=document.documentElement.style;o.top>e.height?(i.setAttribute("data-position","top"),s.setProperty("--down",`${o.top}px`),s.setProperty("--left",`${o.left}px`)):(i.setAttribute("data-position","bottom"),s.setProperty("--down",`${o.bottom}px`),s.setProperty("--left",`${o.left}px`))}function A(e){e.preventDefault(),i.classList.add("is-hidden"),i.addEventListener("animationend",function(){i.classList.remove("is-hidden"),i.close(),i.getAttribute("data-filter-active")&&u.getBoundingClientRect().left>0&&t.scrollBy({top:0,left:u.getBoundingClientRect().width,behavior:"smooth"})},{once:!0},!1)}function m(){l.forEach(e=>{e.hasAttribute("data-name-filter")||e.hasAttribute("data-school-filter")?e.setAttribute("inert","true"):e.removeAttribute("inert")})}function y(e){!t.classList.contains("scrolledRight")&&e>=50&&t.classList.add("scrolledRight"),t.classList.contains("scrolledRight")&&(e>=55?t.classList.add("scrolledRight100"):t.classList.remove("scrolledRight100")),t.classList.contains("scrolledRight")&&e<50&&t.classList.remove("scrolledRight"),b.getBoundingClientRect().right<window.innerWidth?t.classList.remove("scrolledLeft"):t.classList.add("scrolledLeft")}function h(){t.querySelectorAll("[data-aos-card][inert]").length>0?i.setAttribute("data-filter-active","true"):i.removeAttribute("data-filter-active")}function g(e){l.forEach(S,e.currentTarget),m(),h()}function S(e){let o=this.value.toLowerCase();switch(this.id){case"aos-name-filter":let s=e.querySelector(".card__content__title").innerText.toLowerCase(),w=e.getAttribute("data-search-terms")||"";s.indexOf(o)<0&&w.indexOf(o)<0?e.setAttribute("data-name-filter","false"):e.removeAttribute("data-name-filter");break;case"aos-school-filter":let R=e.getAttribute("data-school");o==="either"||R.indexOf(o)>=0?e.removeAttribute("data-school-filter"):e.setAttribute("data-school-filter","false");break}}})})();

;
